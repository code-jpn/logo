<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="utf-8">
	<title>logo.png</title>
</head>
<body>
	<div id="logo">
		<svg width="150px" viewBox="0 0 120 120">
		<path d="M -2.7,-1.9 H 123 V 122 H -2.7 Z" fill="#00c080"></path>
		<path d="m -8,82 c 0,0 10,-9 24,-9 14,0 42,15 42,15 0,0 24,15 39,15 C 112,103 130,91 130,91 l 0,14 c 0,0 -21,9 -33,9 -12,0 -38,-12 -38,-12 0,0 -33,-18 -44,-18 -12,0 -23,10 -23,10 z" fill="#80ffc0"></path>
		<text class="text" y="55" x="59" lengthAdjust="spacingAndGlyphs" textLength="90%">空想</text>
		<text class="text" y="108" x="59" lengthAdjust="spacingAndGlyphs" textLength="90%">文章</text></svg>
		<style>@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@600&display=swap');
		.text{fill :#ffffff; font-family: 'ヒラギノ角ゴ ProN','モリサワ新ゴ','Noto Sans JP';font-weight:bold;letter-spacing:-0.05em;font-size:350%;text-anchor:middle;user-select:none;}</style>
		
		<svg width="100px" viewBox="0 0 120 120">
		<path d="M -3,-2 H 123 V 122 H -3 Z" fill="#c080ff"></path>
		<path d="M 113,47 85,73 91,110 58,92 24,109 31,72 4,45 42,40 59,6 75,40 Z" fill="#d0b0ff"></path>
		<text class="text2" y="56" x="60" lengthAdjust="spacingAndGlyphs" textLength="88%">地図</text>
		<text class="text2" y="108" x="61" lengthAdjust="spacingAndGlyphs" textLength="93%">くらぶ</text></svg>
		<style>@import url('https://fonts.googleapis.com/css2?family=Mochiy Pop P One&display=swap');
		.text2{fill: #ffffff; font-family:'Mochiy Pop P One';letter-spacing:-0.05em;font-size:345%;text-anchor:middle;user-select:none;}</style>
		
		<svg width="100px" viewBox="0 0 8 8">
		<path d="M 0,0 8,0 8,8 0,8 Z" fill="#c08000"></path>
		<path d="M 4,0.8 7.2,4 4,7.2 0.8,4 Z" fill="#e0c080"></path>
		<text class="text3" y="3.4" x="4.1" lengthAdjust="spacingAndGlyphs" textLength="90%">中京</text>
		<text class="text3" y="6.8" x="2.3" lengthAdjust="spacingAndGlyphs" textLength="46%">都</text>
		<text class="text4" y="5.6" x="5.9" lengthAdjust="spacingAndGlyphs" textLength="46%">ふぁ</text>
		<text class="text4" y="7.1" x="6.1" lengthAdjust="spacingAndGlyphs" textLength="25%">ん</text></svg>
		<style>@import url('https://fonts.googleapis.com/css2?family=Kosugi+Maru&display=swap');
		.text3{fill: #ffffff; font-family:'HG丸ｺﾞｼｯｸM-PRO','Kosugi Maru';letter-spacing:0.04em;font-size:20%;text-anchor:middle;user-select:none;}
		.text4{fill: #ffffff; font-family:'HG丸ｺﾞｼｯｸM-PRO','Kosugi Maru';letter-spacing:0.01em;font-size:10%;text-anchor:middle;user-select:none;}</style>
	  <div id="deco"></div>
	  <div id="text">
	    <div id="name"></div>
	    <div id="type"></div>
	  </div>
	</div>
	<style>
	  #logo,#deco{position:relative;width:130px;height:130px;overflow:hidden}
	  #text{display:flex;position:absolute;top:5px;left:5px;font-size:60px;& *{text-align:center}}
	  .wave{clip-path:path('M -8,82 c 0,0 10,-9 24,-9 14,0 42,15 42,15 0,0 24,15 39,15 C 112,103 130,91 130,91 l 0,14 c 0,0 -21,9 -33,9 -12,0 -38,-12 -38,-12 0,0 -33,-18 -44,-18 -12,0 -23,10 -23,10')}
	  .star{background:black;clip-path:path('M 126.3,52.1 95.4,81.2 101.9,123.2 64.6,102.8 26.7,121.9 34.6,80.2 4.7,50 46.8,44.6 66.2,6.9 84.4,45.3')}
	  .dia{clip-path:path('M 67,13 120,67 67,120 13,67')}
	  .T0{flex-direction:column-reverse;font-family:;& #type::before{content:'空'}}
	  .T1{flex-direction:column;font-family:;& #type::before{content:'都'}}
	  .T2{flex-direction:column;font-family:;& #type::before{content:'くらぶ';scale:1 calc(2/3)}}
	</style>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js"></script>
	<script>
	  document.addEventListener('DOMContentLoaded', async () => {
	    const params = new URLSearchParams(window.location.search);
	    const logo = document.getElementById('logo');
	    const deco = document.getElementById('deco');
	    const text = document.getElementById('text');
	    const name = document.getElementById('name');
		const set = params.get('t');
	    logo.style.background = params.get('b');
	    deco.style.background = params.get('d');
		name.innerText = params.get('n');
		if(set === '0'){
		  deco.className = 'wave';
		  text.className = 'T0';
		}
		else if(set === '1'){
		  deco.className = 'dia';
		  text.className = 'T1';
		}
		else{
		  deco.className = 'star'
		  text.className = 'T2';
		}
		try{
	      const dataUrl = await domtoimage.toPng(logo);
	      const link = document.createElement('a');
	      link.href = dataUrl;
	      link.download = 'logo.png';
	      link.click();
		} catch(error){console.error(error)}
		const back = document.createElement('a');
		// back.href = 'memo.zu-ga.net';
		// back.click();
	  });
	</script>
</body>
</html>
