<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="utf-8">
	<title>logo.png</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Kosugi+Maru&family=Mochiy+Pop+P+One&family=Noto+Sans+JP:wght@100..900&display=swap" rel="stylesheet">
	<style>
		.text{fill:#fff;font-family:'ヒラギノ角ゴ ProN','モリサワ新ゴ','Noto Sans JP';font-weight:bold;letter-spacing:-0.05em;font-size:350%;text-anchor:middle;user-select:none}
		.text2{fill:#fff;font-family:'Mochiy Pop P One';letter-spacing:-0.05em;font-size:345%;text-anchor:middle;user-select:none}
		.text3{fill:#ffffff;font-family:'HG丸ｺﾞｼｯｸM-PRO','Kosugi Maru';letter-spacing:0.04em;font-size:20%;text-anchor:middle;user-select:none}
		.text4{fill:#fff;font-family:'HG丸ｺﾞｼｯｸM-PRO','Kosugi Maru';letter-spacing:0.01em;font-size:10%;text-anchor:middle;user-select:none}
		svg{display:none;width:500px}#logo{width:fit-content}body{opacity:.1}
	</style>
</head>
<body>
	<div id="logo">
		<svg viewBox="0 0 120 120" data-wave>
			<path d="m -8,82 c 0,0 10,-9 24,-9 14,0 42,15 42,15 0,0 24,15 39,15 C 112,103 130,91 130,91 l 0,14 c 0,0 -21,9 -33,9 -12,0 -38,-12 -38,-12 0,0 -33,-18 -44,-18 -12,0 -23,10 -23,10 z"></path>
			<text class="text" y="55" x="59" lengthAdjust="spacingAndGlyphs" textLength="90%">空想</text>
			<text class="text name" y="108" x="59" lengthAdjust="spacingAndGlyphs" textLength="90%"></text>
		</svg>
			<svg viewBox="0 0 120 120" data-star>
			<path d="M 113,47 85,73 91,110 58,92 24,109 31,72 4,45 42,40 59,6 75,40 Z"></path>
			<text class="text2 name" y="56" x="60" lengthAdjust="spacingAndGlyphs" textLength="88%"></text>
			<text class="text2" y="108" x="61" lengthAdjust="spacingAndGlyphs" textLength="93%">くらぶ</text>
		</svg>
		<svg viewBox="0 0 8 8" data-dia>
			<path d="M 4,0.8 7.2,4 4,7.2 0.8,4 Z"></path>
			<text class="text3 name" y="3.4" x="4.1" lengthAdjust="spacingAndGlyphs" textLength="90%"></text>
			<text class="text3" y="6.8" x="2.3" lengthAdjust="spacingAndGlyphs" textLength="46%">都</text>
			<text class="text4" y="5.6" x="5.9" lengthAdjust="spacingAndGlyphs" textLength="46%">ふぁ</text>
			<text class="text4" y="7.1" x="6.1" lengthAdjust="spacingAndGlyphs" textLength="25%">ん</text>
		</svg>
	</div>
	<script src="https://unpkg.com/html-to-image"></script>
	<script>
	    const params = new URLSearchParams(window.location.search);
	    const logo = document.getElementById('logo');
		const deco = document.getElementsByTagName('path');
		const name = document.getElementsByClassName('name');
		const set = params.get('t');
	    logo.style.background = params.get('b');
		for (let i = 0; i < deco.length; i++) {
			deco[i].style.fill = params.get('d');
		}
		for (let i = 0; i < name.length; i++) {
			name[i].textContent = params.get('n');
		}
		if(set === '0'){
			document.querySelector('svg[data-wave]').style.display = 'block';
		}
		else if(set === '1'){
			document.querySelector('svg[data-star]').style.display = 'block';
		}
		else{
			document.querySelector('svg[data-dia]').style.display = 'block';
		}
		document.fonts.ready.then(() => {
			try{
			　　htmlToImage.toPng(logo).then(function (dataUrl) {
				  const link = document.createElement('a');
				  link.download = 'logo.png';
				  link.href = dataUrl;
				  link.click(); 
			  });
			} catch(error){console.error(error)}
			const back = document.createElement('a');
			// back.href = 'memo.zu-ga.net';
			// back.click();
		});
	</script>
</body>
</html>
